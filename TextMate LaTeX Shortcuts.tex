\title{Working with TextMate's \LaTeX{} Bundle}
\author{Matthew Kuperus Heun}
\date{\today}

\documentclass[10pt]{article}
\usepackage{verbatim}
% Provides apple symbols
% Downloaded from http://dl.dropboxusercontent.com/u/10932738/index.html. 
% Referenced at http://tex.stackexchange.com/questions/19646/how-to-typeset-special-apple-mac-keyboard-symbols
\usepackage{applekeys} 
\usepackage[margin=1.0in]{geometry}
\usepackage{hyperref}
\usepackage{color}
% Provides round-trip syncing from pdf viewer to text editor
% \usepackage{pdfsync} % Unnecessary, because pdflatex supports synctex automatically.
\synctex=1

\begin{document}
\maketitle

\begin{abstract}
TextMate is a fantastic editor for \LaTeX{} documents. 
This short paper summarizes many features, including
keyboard shortcuts, 
typsetting, and 
GitHub integration,
available in TextMate's \LaTeX{} bundle.
\end{abstract}

\section{Introduction}
TextMate is a fantastic text editor for \LaTeX{} documents.
It is the best editor I have found for
writing \LaTeX{} documents on the Mac.
However, remembering all the features can be difficult.
This document summarizes many useful features and keyboard shortcuts.

TextMate can be found at \url{http://macromates.com}. 
Download TextMate 2.0 at \url{http://macromates.com/download}. 
The \LaTeX{} bundle is included with TextMate. 

You'll need to install the \LaTeX{} distribution for the Mac.
See \url{https://www.tug.org/mactex/}.


%%%%%%%%%%%%%%%%%%%%
\section{Keyboard Shortcuts} % (fold)
\label{sec:keyboard_shortcuts}
%%%%%%%%%%%%%%%%%%%%
\LaTeX{}-specific keyboard shortcuts in TextMate can be found in Table~\ref{tab:keyboard_shortcuts}.

\begin{table}
\centering
\caption{Keyboard shortcuts for editing.}
\begin{tabular}{r|l|l}
	Select text and type \dots   & to obtain \dots                        & Comments        \\
	\hline
	\cmdkey~\texttt{I}           & \verb!\emph{selection}!                &                 \\
	\cmdkey~\texttt{B}           & \verb!\textbf{selection}!              &                 \\
	\cmdkey~\texttt{U}           & \verb!\underline{selection}!           &                 \\
	\cmdkey~\texttt{K}           & \verb!\texttt{selection}!              & typewriter font \\
	\cmdkey~\optkey~\texttt{K}   & \verb=\verb!selection!=                & verbatim        \\
	\cmdkey~\shiftkey~\texttt{K} & \verb!\textsc{selection}!              & small caps      \\
	\ctlkey~\shiftkey~\texttt{I} & \verb!selection\index{selection}!      & adds selection to index \\
	
	\hline
	Type \dots   & to obtain \dots                        & Comments           \\  	 
	\hline
		
	part\tabkey       & \verb!\part{part name}!                    & \verb!\label{prt:part_name}!\\
	chapter\tabkey    & \verb!\chapter{chapter name}!              & \verb!\label{cha:chapter_name}!\\
	sec\tabkey        & \verb!\section{section name}!              & \verb!\label{sec:section_name}!\\
	sub\tabkey        & \verb!\subsection{subsection name}!        & \verb!\label{sub:subsection_name}!\\
	subs\tabkey       & \verb!\subsubsection{subsubsection name}!  & \verb!\label{subs:subsubsection_name}!\\
	par\tabkey        & \verb!\paragraph{paragraph name}!          & \verb!\label{par:paragraph_name}!\\
	subp\tabkey       & \verb!\subparagraph{subparagraph name}!    & \verb!\label{subp:subparagraph_name}!\\

	\hline
	
	eq\tabkey              & \verb!\begin{equation}!         & Equation environment w/out \verb!\label!  \\
	tab\tabkey             & \verb!\begin{tabular}{c}!       & Tabular environment          \\
	enum\tabkey            & \verb!\begin{enumerate}!        & Enumerate environment w/ \verb!\item!     \\
	item\tabkey            & \verb!\begin{itemize}!          & Itemize environment w/ \verb!\item!       \\
	desc\tabkey            & \verb!\begin{description}!      & Description environment w/ \verb!\item!   \\

	\hline

	equation\tabkey        & \verb!Equation~\eqref{eq:}!     & \tabkey~again for next field, \esckey~to cycle labels        \\
	figure\tabkey          & \verb!Figure~\ref{fig:}!        & \tabkey~again for next field, \esckey~to cycle labels       \\
	listing\tabkey         & \verb!Listing~\ref{lst:}!       & \tabkey~again for next field, \esckey~to cycle labels       \\
	section\tabkey         & \verb!Section~\ref{sec:}!       & \tabkey~again for next field, \esckey~to cycle labels       \\
	table\tabkey           & \verb!Table~\ref{tab:}!         & \tabkey~again for next field, \esckey~to cycle labels       \\
	page\tabkey            & \verb!page~\pageref{}!          & \tabkey~again for next field, \esckey~to cycle labels       \\

	\hline

	a--z\cmdkey\verb!\!       & \verb!\alpha! -- \verb!\zeta!    & lowercase Greek letters   \\
	e\cmdkey\verb!\!          & \verb!\epsilon!                  & \cmdkey\verb!\! again: \verb!\varepsilon!                     \\
	do\cmdkey\verb!\!         & \verb!\dots!                     & $\dots$ (ellipsis)        \\
	ap\cmdkey\verb!\!         & \verb!\approx!                   & $\approx$                 \\
	ar\cmdkey\verb!\!         & \verb!\arcsin!                   & \cmdkey\verb!\! again: \verb!\arccos!, \verb!\arctan!       \\
	ah\cmdkey\verb!\!         & \verb!\arcsinh!                  & \cmdkey\verb!\! again: \verb!\arccosh!, \verb!\arctanh!     \\
	\hline
	fr\ctlkey\shiftkey. or frac\ctlkey\shiftkey.    & \verb!\frac{num}{}!              & $\frac{num}{}$      \\
	s\ctlkey\shiftkey. or sum\ctlkey\shiftkey.      & \verb!\sum_{bot}^{}!             & $\sum_{bot}^{}$     \\ 
	p\ctlkey\shiftkey. or prod\ctlkey\shiftkey.     & \verb!\prod_{bot}^{}!            & $\prod_{bot}^{}$    \\ 
	l\ctlkey\shiftkey. or lim\ctlkey\shiftkey.      & \verb!\lim_{}!                   &    \\
	fn\ctlkey\shiftkey.                             & \verb!\footnote{}!               &    \\ 
	proof\ctlkey\shiftkey.                          & \verb!\proof{}!                  &    \\
	nc\ctlkey\shiftkey.                             & \verb!\newcommand{}{}!           &    \\
	usep\ctlkey\shiftkey.                           & \verb!\usepackage{}!             &    \\
	url\ctlkey\shiftkey.                            & \verb!\url{}!                    &    \\

\end{tabular}
\label{tab:keyboard_shortcuts}
\end{table}

To edit keyboard shortcuts or add your own, select
\texttt{Bundles|LaTeX|Edit Configuration File}. 
Doing so moves a copy of the file 
\verb!com.macromates.textmate.latex_config.plist!
to the folder
\texttt{~/Library/Preferences/}.
Useful additions are shown in Table~\ref{tab:additions_to_plist}.

\begin{table}
\centering
\caption{Useful additions to the \texttt{latex\_config.plist} file.}
\begin{tabular}{r|l|l|l}
	In \texttt{commands}, enter \dots & to allow \dots      & to give              & Comments \\
	\hline
	\verb!dot = "\\dot{$1} $0";!   & \texttt{dot}\cmdkey\shiftkey. & \verb!\dot{}! & Overdot \\
	\verb!sub = "_{$1}$0";!        & \texttt{sub}\cmdkey\shiftkey. & \verb!_{}!    & Subscript \\
	\verb!sup = "^{$1}$0";!        & \texttt{sup}\cmdkey\shiftkey. & \verb!^{}!    & Superscript \\
	\verb!mr = "\\mathrm{$1}$0";!  & \texttt{mr}\cmdkey\shiftkey.  & \verb!\mathrm{}! & \\
\end{tabular}
\label{tab:additions_to_plist}
\end{table}

% section sec:keyboard_shortcuts (end)


%%%%%%%%%%%%%%%%%%%%
\section{Document Viewing and Typesetting} % (fold)
\label{sec:document_viewing_and_typesetting}
%%%%%%%%%%%%%%%%%%%%
I find Eiffel to be the best theme for viewing \LaTeX{} documents
(\texttt{View|Theme|Eiffel}). 

\cmdkey\texttt{R} typesets the \LaTeX{} document with \texttt{pdflatex}. 

Use the Skim \texttt{.pdf} viewer (\url{http://skim-app.sourceforge.net}).
Skim has a nice feature: upon opening the typeset \texttt{.pdf} file,
Skim places a small red dot at the position corresponding to the cursor's 
location in TextMate. 
Because the cursor location in TextMate is typically where you were working,
you can readily find the location of interest in the \texttt{.pdf} document.

To set up the Skim/TextMate features, 
first choose \texttt{Bundles|LaTeX|Preferences\dots} in TextMate.
Then, choose \texttt{Skim} from the \texttt{View In\dots} menu.
To enable \texttt{pdfsync}, insert \verb!\synctex=1! 
at the top of your root \LaTeX{} file.

In Skim, choose \texttt{Skim|Preferences\dots|Sync}. 
Then, choose \texttt{Preset:~TextMate} to enable round-tripping from Skim to TextMate. 
A \cmdkey\shiftkey-click anywhere in the \texttt{.pdf} file within Skim 
should take you near the appropriate text in the TextMate editor window.

For multi-file documents, set a root directive. 
To do so, open each subfile of the document. 
Then, select \texttt{Bundles|LaTeX|File Preferences|Set Master File} in TextMate.
In the dialog box, select the root file for the document. 
The result will be a special comment at the top of the subfile of the form
\verb&%!TEX root = <Path_to_root_file.tex>&.
With this comment in place, \cmdkey\texttt{R} in any subfile will typeset the entire document.

Table~\ref{tab:typesetting_keyboard_shortcuts} shows some of the keyboard shortcuts for typesetting.

\begin{table}
\centering
\caption{Keyboard shortcuts for typesetting.}
\begin{tabular}{r|l|l}
	In TextMate, type \dots & to \dots      & Comments                  \\
	\hline
	\cmdkey\texttt{R}           & typeset the document            &                           \\
	\texttt{F1}                 & fold section containing cursor  & Consider installing Palua from the Mac App Store \\
	\ctlkey\optkey\cmdkey\texttt{D}&show/hide file browser        & Configure in \texttt{TextMate|Preferences\dots|Projects} \\
	\cmdkey\shiftkey [, \cmdkey\shiftkey ] & Select previous/next file tab  &          \\
	\cmdkey\texttt{T}           & open a quick file browser                 &          \\
	\cmdkey/                    & comments selected line with \verb!%!      &          \\
\end{tabular}
\label{tab:typesetting_keyboard_shortcuts}
\end{table}

% section document_viewing_and_typesetting (end)


%%%%%%%%%%%%%%%%%%%%
\section{GitHub Integration} % (fold)
\label{sec:github_integration}
%%%%%%%%%%%%%%%%%%%%

TextMate integrates well with GitHub (\url{http://www.github.com}). 
Table~\ref{tab:github_keyboard_shortcuts} shows useful GitHub keyboard shortcuts.

TextMate works best when you clone GitHub projects to your local disk using SSH. 
To set up your computer for GitHub with SSH, follow the instructions at
\url{https://help.github.com/articles/generating-ssh-keys}. 
TextMate automatically detects the project's GitHub repository 
when you open a file from the repository.

To clone a repository to your local disk using SSH, 
first find the repository with a web browser on GitHub.
In the case of the repository that contains this document, 
the URL is \url{https://github.com/MatthewHeun/TextMate_for_LaTeX}. 
Next, look on the right side of the page and click on 
the \texttt{SSH} hyperlink in the 
``You can clone with HTTPS, SSH, or Subversion'' text.
Then, click the ``copy to clipboard'' button.
Next, open a terminal window and navigate to the directory in which you want to 
put the repository.
For the repository that contains this document, you would then type
\texttt{git clone} and paste the SSH clone link from the clipboard.
If you want to clone this repository, you would see:

\verb!git clone git@github.com:MatthewHeun/TextMate_for_LaTeX.git!

\noindent at the command line prompt in the terminal window.

\begin{table}
\centering
\caption{GitHub keyboard shortcuts.}
\begin{tabular}{r|l|l}
	In TextMate, type \dots & to \dots      & Comments                                       \\
	\hline
	\cmdkey\texttt{Y}           & open the GitHub menu            &                          \\
	\cmdkey\texttt{Y 5}         & pull changes                    &                          \\
	\cmdkey\texttt{Y 2}         & commit modified files           & Detects changes in selected (in browser) only \\
	\cmdkey\texttt{Y 4}         & push commits                    &                          \\
\end{tabular}
\label{tab:github_keyboard_shortcuts}
\end{table}

% section github_integration (end)


%%%%%%%%%%%%%%%%%%%%
\section{Miscellaneous} % (fold)
\label{sec:miscellaneous}
%%%%%%%%%%%%%%%%%%%%
I like to put the file browser on the left and command output on the right.
Select \texttt{TextMate|Preferences\dots|Projects}.
Then, select \texttt{Show File Browser on: Left Side} and
\texttt{Show command output: Right of text view}.

% section miscellaneous (end)


%%%%%%%%%%%%%%%%%%%%
\section*{Acknowledgements} % (fold)
\label{sec:acknowledgements}
%%%%%%%%%%%%%%%%%%%%

Many thanks to Macromates, Allan Odgaard, and all those working 
on the open source TextMate project for providing this awesome editor.
Thanks also to all those who contributed to the \LaTeX{} bundle for TextMate,
(\url{https://github.com/textmate/latex.tmbundle}).

% section miscellaneous (end)

\end{document}